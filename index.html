<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Alquileres Santo Tom√©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; }
    header {
      background: #3483fa; color: white; padding: 15px; text-align: center;
    }
    nav {
      display: flex; justify-content: center; gap: 20px;
      background: #f4f4f4; padding: 10px;
    }
    nav a {
      text-decoration: none; font-weight: bold; color: #333;
    }
    nav a:hover { color: #3483fa; }
    #map { height: 80vh; width: 100%; }
    footer {
      text-align: center; padding: 10px; background: #eee; font-size: 14px;
    }
  </style>
</head>
<body>

  <header>
    <h1>Alquileres en Santo Tom√©</h1>
    <p>Encuentra tu pr√≥ximo departamento de forma r√°pida y segura</p>
  </header>

  <nav>
    <a href="#mapa">Mapa</a>
    <a href="due√±os.html">Soy Due√±o</a>
  </nav>

  <main>
    <!-- Mapa de alquileres -->
    <section id="mapa">
      <div id="map"></div>
    </section>
  </main>

  <footer>
    ¬© 2025 Alquileres Santo Tom√© - Proyecto piloto
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <script>
    // Inicializar mapa
    var map = L.map('map').setView([-28.5503, -56.0406], 14);

    // Capa de mapa (OpenStreetMap)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '¬© OpenStreetMap'
    }).addTo(map);

    // Colores por tipo de ambiente
    const ambienteColors = {
      "monoambiente": "blue",
      "2 ambientes": "red",
      "3 ambientes": "yellow"
    };

    // Datos de ejemplo
    const alquileres = [
      {
        lat: -28.5505, lng: -56.0410,
        tipo: "monoambiente",
        direccion: "Belgrano 123",
        precio: "$90.000",
        contacto: "3794000000",
        foto: "https://via.placeholder.com/200x120.png?text=Monoambiente"
      },
      {
        lat: -28.5510, lng: -56.0385,
        tipo: "2 ambientes",
        direccion: "San Mart√≠n 456",
        precio: "$120.000",
        contacto: "3794111111",
        foto: "https://via.placeholder.com/200x120.png?text=2+Ambientes"
      },
      {
        lat: -28.5522, lng: -56.0422,
        tipo: "3 ambientes",
        direccion: "Espa√±a 789",
        precio: "$160.000",
        contacto: "3794222222",
        foto: "https://via.placeholder.com/200x120.png?text=3+Ambientes"
      }
    ];

    // Crear √≠conos de colores
    function getIcon(color) {
      return new L.Icon({
        iconUrl: `https://chart.googleapis.com/chart?chst=d_map_pin_icon&chld=home|${color}`,
        iconSize: [30, 50],
        iconAnchor: [15, 50],
        popupAnchor: [0, -45]
      });
    }

    // Agregar markers al mapa
    alquileres.forEach(a => {
      const icon = getIcon(ambienteColors[a.tipo]);
      const marker = L.marker([a.lat, a.lng], { icon: icon }).addTo(map);

      const popupContent = `
        <div>
          <img src="${a.foto}" style="width:200px; border-radius:8px; margin-bottom:6px;"/>
          <b>${a.tipo.toUpperCase()}</b><br>
          üìç ${a.direccion}<br>
          üíµ ${a.precio}<br>
          <a href="https://wa.me/54${a.contacto}" target="_blank"
             style="display:inline-block; margin-top:6px; padding:6px 10px; background:#25D366; color:white; border-radius:6px; text-decoration:none;">
             WhatsApp
          </a>
        </div>
      `;
      marker.bindPopup(popupContent);
    });
  </script>
</body>
</html>
